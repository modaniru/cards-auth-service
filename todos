Приходит oaurh токен (неважно какой), вместе с ним приходит название сервиса, который предоставил этот токен

Если такого сервиса нет в пуле приложения, то возыращается ошибка

СЛУЧАЙ ЕСЛИ ЭТО НЕ ПОЧТОВЫЙ СЕРВИС(ВК, Facebook, Twitter)
Если такой сервис есть в нашем пуле - проверяем токен, получаем уникальный для сервиса идентификатор
Идем в базу, смотрим, если есть комбинация [auth_type, id], то возвращаем локальный идентификатор пользователя.
По данному идентификатору возвращаем jwt токен(позже вместе с refresh токеном)
Если же нет комбинации [auth_type, id], создаем нового пользователя (позже с автоматическим созданием никнейма), возвращаем его локальный id
По данному идентификатору возвращаем jwt токен(позже вместе с refresh токеном)

